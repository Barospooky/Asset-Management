extends layout

block content
  .container.mt-4
    if message
      .alert.alert-dismissible.fade.show(
        class=message.type === 'success' ? 'alert-success' : 'alert-danger',
        role='alert'
      )
        strong= message.type === 'success' ? 'Success! ' : 'Error! '
        | #{message.text}
        button.btn-close(type='button', data-bs-dismiss='alert', aria-label='Close')

    h2.mb-4 Return Asset

    form(action='/return/new' method='post')
      .mb-3
        label.form-label(for='employee_id') Employee
        select.form-select(name='employee_id' required)
          option(value='') -- Select Employee --
          each emp in employees
            option(value=emp.id)= emp.name

      .mb-3
        label.form-label(for='asset_category_id') Asset Category
        select.form-select(name='asset_category_id' required)
          option(value='') -- Select Category --
          each c in categories
            option(value=c.id)= c.name

      .mb-3
        label.form-label(for='asset_id') Asset
        select.form-select(name='asset_id' required)
          option(value='') -- Select Asset --
          each a in availableAssets
            option(value=a.id)= `${a.serial_number} - ${a.make} ${a.model}`

      .mb-3
        label.form-label(for='return_date') Return Date
        input.form-control(type='date', name='return_date', value=returnDate)

      .mb-3
        label.form-label(for='remarks') Return Remarks 
        textarea.form-control(name='remarks', rows='3')

      button.btn.btn-primary(type='submit') Return Asset


